Appellants sued the United States and thirty-two defendants who dredged the Mississippi River Gulf Outlet to recover damages sustained during Hurricane Katrina.   The district court dismissed the claims against the dredgers because it determined that the defendants acted pursuant to contracts with the United States government under authority granted by an act of Congress.   The appellants argue that the district court improperly:  (1) dismissed their claims;  (2) refused to allow them to amend their complaint;  (3) refused to allow them to conduct discovery;  and (4) entered judgment in favor of those defendants whose actions had been stayed after they filed petitions under the Limitation of Liability Act.   We affirm.
I
In 2006, Philip Reed filed a class action against the United States and thirty-two dredging companies (Contractor Defendants) to recover damages the class suffered as a result of Hurricane Katrina.   Reed also sought injunctive relief to prevent future dredging activities.   Several months later, Fellosea Ackerson filed a substantively identical complaint on behalf of 1,600 named plaintiffs against the same thirty-two Contractor Defendants.   The United States was not a named defendant in Ackerson's complaint.   The district court consolidated the actions.
Reed and Ackerson (Plaintiffs) alleged that the Contractor Defendants' dredging activities caused environmental damage to protective wetlands in the Mississippi River Gulf Outlet (MRGO).   The Plaintiffs also alleged that the MRGO project caused an amplification of the storm surge in the New Orleans region during Hurricane Katrina, undermining the levees and flood walls along the MRGO and the Industrial Canal that breached and flooded St. Bernard Parish and Orleans Parish.   The Plaintiffs asserted claims against the Contractor Defendants for negligence, breach of implied warranty, concealment, and violation of environmental-protection laws and sought a myriad of damages and an injunction to prevent future dredging activities.
The United States filed a motion to dismiss pursuant to Federal Rule of Civil Procedure 12(b)(1), claiming the court lacked subject matter jurisdiction because Reed had not filed an administrative claim as required by the Admiralty Extension Act.1  The district court granted the Government's 12(b)(1) motion and dismissed the claims against the United States.   This dismissal is not at issue on appeal.   The Contractor Defendants also filed a motion to dismiss under Rule 12(b)(1) and Rule 12(c).
While the Contractor Defendants' motion was pending before the district court, some of the Contractor Defendants (Limitation Defendants) filed complaints under the Limitation of Liability Act,2 which allows a shipowner facing potential liability for a maritime accident to limit his liability to the value of his vessel and cargo and automatically stays all other suits against the shipowner so that all claims will be litigated in the limitation proceeding.3  Several Contractor Defendants (Bean Defendants) did not file limitation actions.   The limitation actions were transferred to the judge presiding over the original Reed and Ackerson complaints, where they were consolidated.
The Plaintiffs filed a motion to stay the limitation actions and allow their claims against all of the Contractor Defendants to continue.   The district court held a hearing on the Contractor Defendants' motion to dismiss and the Plaintiffs' motion to stay the limitation actions.   Because the stays prevented the court from holding a hearing with respect to the Limitation Defendants, the action proceeded only as to the Bean Defendants, but the Limitation Defendants participated as amicus curiae.
The court granted the Contractor Defendants' motion to dismiss under Rules 12(b)(1) and 12(c), concluding that the Contractor Defendants had government-contractor immunity under Yearsley v. W.A. Ross Construction Co.4 and Boyle v. United Technologies Corp.5  The court denied the Plaintiffs' request to conduct discovery to determine whether the Contractor Defendants had done anything to place them outside of Yearsley's protection, calling the request a “fishing expedition.”   The court also denied the Plaintiffs' request for leave to amend their complaints as “futile.”   The district court entered separate judgments against Reed and Ackerson.   The court also entered a separate order in each case denying as moot the Plaintiffs' motion to stay the limitation proceedings.
The Plaintiffs appealed these rulings, and the appeals were consolidated.   The Plaintiffs claim the district court erred in granting the Contractor Defendants' motion for judgment on the pleadings, denying their request for discovery, denying their motion to amend, and denying their motion to stay the limitation proceedings.
II
 We review a grant of judgment on the pleadings under Rule 12(c) de novo.6  We agree with the district court's ruling that based on the pleadings, the Contractor Defendants are entitled to government-contractor immunity under Yearsley.
In Yearsley, the Supreme Court considered whether a contractor that built dikes in the Missouri River pursuant to a contract with the federal government could be held liable for damage caused by the construction of the dikes.7  The contract was part of a federal project authorized by an act of Congress, and it was undisputed that the federal government authorized and directed the project.8  The Court concluded that the contractor could not be held liable, holding that when “authority to carry out the project was validly conferred, that is, if what was done was within the constitutional power of Congress, there is no liability on the part of the contractor for executing its will.”9  The Court also noted that “[w]here an agent or officer of the Government purporting to act on its behalf has been held to be liable for his conduct causing injury to another, the ground of liability has been found to be either that he exceeded his authority or that it was not validly conferred.”10
The Plaintiffs contend that invoking Yearsley requires the government contractor to show that an agency relationship existed between the contractor and the government, and they argue that in this case an agency relationship is not evident on the face of the pleadings.   To support their argument, the Plaintiffs rely on language from this court's decision in Bynum v. FMC Corp.,11 which states that “it is the law at least in this Circuit that the contractor must be an agent of the government before invoking its immunity.”12  This statement is not as definitive, nor binding, as the Plaintiffs suggest.   The Bynum court acknowledged that Yearsley only contains an “apparent requirement that the contractor possess an actual agency relationship with the government” and that “federal courts certainly have not always required such a relationship.”13  Additionally, this statement is dicta, and we have never held that Yearsley requires a common-law agency relationship between the government and a contractor.
The language regarding agency on which the plaintiffs rely appears in an introductory section of the Bynum opinion entitled “Legal Background,” which provided “a brief overview ․ of the [modern government contractor] defense's historic analogues and the reasons provided by federal and state courts for the adoption of the modern defense.”14  After concluding its discussion of the legal background, the court set forth a federal common-law defense for military-equipment manufacturers,15 without discussing, applying, or citing Yearsley.   Therefore, the court's statements regarding Yearsley were unnecessary to its holding and constitute nonbinding dicta.16
The court's statement in Bynum is not compelled by our prior case law.   The Bynum court cited to Whitaker v. Harvell-Kilgore Corp.17 in support of its statement that a contractor must be an agent of the government before invoking its immunity.18  In Whitaker, we held that a manufacturer of grenades and a manufacturer of fuses were not agents of the government and therefore not entitled to immunity after a grenade prematurely exploded during an Army training exercise.19  The Bynum court's reliance on Whitaker to support its understanding of Yearsley is problematic, however, because Whitaker does not cite Yearsley.   Additionally, the case Whitaker does cite to support its holding,20 Powell v. United States Cartridge Co.,21 is a Fair Labor Standards Act case that likewise does not cite Yearsley.   Most importantly, both Bynum and Whitaker addressed military-contractor product liability and not public-works contractor liability as in Yearsley.   The application of the contractor defense in the context of military-equipment manufacturers is an area of law that has since been arguably distinguished from the general Yearsley defense in Boyle v. United Technologies Corp.22 and its progeny.
The Supreme Court's decision in Yearsley does not require a public-works contractor defendant to establish a traditional agency relationship with the government.  Yearsley does use the word “agent”23 but also uses “contractor”24 and “representative.”25  Most notably, the Yearsley court did not examine the relationship between the contractor defendant and the government to determine whether the contractor defendant was in fact acting as an agent or whether the contractor acted within the scope of any agency relationship.   Instead, the court merely noted that setting aside the plaintiffs' takings claim, “there is no contention, or basis for one, that if the contractor was acting for the Government in prosecuting its work in aid of navigation without the taking of property, the contractor would be subject to the asserted liability.”26
Other courts applying Yearsley have likewise not discussed an agency requirement.27  For example, in Myers v. United States,28 the Ninth Circuit affirmed a judgment that a private defendant who had constructed a road pursuant to a contract with the Bureau of Public Roads was not liable for alleged waste and trespass resulting from the construction.29  Citing Yearsley, the court noted, “To the extent that the work performed by [the contractor defendant] was done under its contract with the Bureau of Public Lands, and in conformity with the terms of said contract, no liability can be imposed upon it for any damages claimed to have been suffered by the appellants.”30  The court did not discuss whether the contractor defendant was the government's agent or whether the defendant exceeded the scope of an agency relationship.   A subsequent Ninth Circuit opinion citing Myers has likewise applied this rule without any discussion of an agency relationship.31
 The Supreme Court has not abrogated or overturned Yearsley, and the Court's most recent reference to that decision was a favorable citation in Boyle.32  The facts of Yearsley are quite similar to the facts in this case.   Both cases involve public-works projects.   In both cases, the actions causing the alleged harm were taken pursuant to contracts with the federal government that were for the purpose of furthering projects authorized by acts of Congress.   And in both cases, the plaintiffs did not allege that the contractor defendant “exceeded his authority or that it was not validly conferred.”33  The Plaintiffs do not allege that Congress lacks the authority to develop or maintain the MRGO.   Further, their complaints leave no doubt that the Contractor Defendants were executing Congress's will in dredging the MRGO.   The Plaintiffs acknowledge that Congress initially approved the MRGO and that the U.S. Army Corps of Engineers constructed the project.   The Plaintiffs further allege that the federal government pays the Contractor Defendants to dredge the MRGO yearly.   The Plaintiffs do not, however, allege that the Contractor Defendants exceeded their authority or in any way deviated from Congress's direction or expectations.   Instead, the Plaintiffs' allegations attack the entire MRGO project.   For example, the Plaintiffs allege that “the project” has “dramatically increased the region's vulnerability to hurricanes and tropical storms” and that the “MRGO has ․ created an environmental disaster.”   These allegations attack Congress's policy of creating and maintaining the MRGO, not any separate act of negligence by the Contractor Defendants.
The applicability of Yearsley is established on the face of the Plaintiffs' complaint, and accordingly, we hold that the district court did not err in dismissing the action.
III
 Plaintiffs also contend that the district court should have dismissed their claims against the Contractor Defendants without prejudice, arguing that the Yearsley defense is jurisdictional in nature.   This court's opinion in Bynum acknowledges that “the basis of the contractor's defense is not altogether clear from the text of the [Yearsley] opinion” and suggests that the basis for dismissing a Yearsley claim would be sovereign immunity.34  Further, the doctrine has been referred to as the “shared immunity doctrine”35 among other names.36  If the basis for dismissing a Yearsley claim is sovereign immunity, then a Yearsley defense would be jurisdictional:  sovereign immunity deprives federal courts of jurisdiction to hear claims, and a court finding that a party is entitled to sovereign immunity must dismiss the action for lack of subject-matter jurisdiction.37
 However, the Court's opinion in Yearsley itself countenances against its application to deprive the federal courts of jurisdiction.  Yearsley does not discuss sovereign immunity or otherwise address the court's power to hear the case.38  Instead, the Court affirmed the reversal of the district court's judgment on the grounds announced in Yearsley.39  Based on the Supreme Court's actions in Yearsley, we hold that concluding Yearsley is applicable does not deny the court of subject-matter jurisdiction.   Further, as the Plaintiffs have not presented any arguments regarding whether the district court erred by dismissing their claims with prejudice if the Yearsley defense is not jurisdictional in nature, they have waived any error on this issue.40  Thus, the district court properly dismissed the Plaintiffs' claims with prejudice.
IV
 The Plaintiffs also appeal the district court's denial of their motion to amend their complaints.   We review the district court's denial of a motion to amend for abuse of discretion.41  The Plaintiffs, in an apparent attempt to plead around Yearsley, sought leave to amend the complaint to add the following allegation:
Defendants failed to follow requirements of 33 CFR Parts 335-38, particularly 33 CFR 336.1(c)(4) and 33 CFR 320.4(b) and Executive Order No. 11990 made applicable thereby.   The Dredging Defendants deviated from and/or failed to execute their dredging activities in the manner required by the Army Corps of Engineers and by the Nationwide Permits, specific permits, or general authorizations for dredging issued by or obtained by the Army Corps of Engineers pursuant to 33 CFR §§ 337.5 and 338.2.   Furthermore, all defendants failed to follow State requirements (made applicable by 33 CFR 337.2) including those contained in Chapter 7, Sections 701 and 707 of the Louisiana Administrative Code related to dredging activities.
 While there is a strong presumption in favor of granting leave to amend,42 a district court may refuse leave to amend if the complaint as amended would be subject to dismissal.43  The Plaintiffs' proposed amended complaint would be subject to dismissal because it would not state a claim for relief.   To state a claim, the Plaintiffs need not include detailed factual allegations, but the “[f]actual allegations must be enough to raise a right to relief above the speculative level.”44  The Plaintiffs' “obligation to provide the grounds of [their] entitle[ment] to relief requires more than labels and conclusions, and a formulaic recitation of the elements of a cause of action will not do.”45  Here, the Plaintiffs' proffered amendment does not go beyond the conclusory allegation that the Contractor Defendants activities somehow violated various laws and regulations at some unspecified time and place.46  Other allegations in the complaint do not provide the additional support needed because, as discussed above, the factual allegations in the remainder of the original complaint go to the alleged damage from the existence and state of the MRGO, not the Contractor Defendants' activities in maintaining it.   The Plaintiffs cannot rely solely on these conclusory allegations and legal conclusions to avoid Yearsley.   Accordingly, we hold that the district court did not abuse its discretion in refusing to allow the Plaintiffs to amend their complaints.
V
 The Plaintiffs also appeal the district court's denial of their request to conduct discovery.   The Plaintiffs claim that the district court should have allowed discovery so that they could obtain the contracts between the Contractor Defendants and the government to determine the relationship between the government and the Contractor Defendants and to identify the Contractor Defendants' obligations under the contracts.
 We review a district court's denial of discovery for abuse of discretion.47  The district court granted the Contractor Defendants' motion for judgment on the pleadings prior to discovery.  “A motion for judgment on the pleadings under Rule 12(c) is subject to the same standard as a motion to dismiss under Rule 12(b)(6).”48  Thus, the “inquiry focuses on the allegations in the pleadings” and not on whether the “plaintiff actually has sufficient evidence to succeed on the merits.”49  Because the court is directed to look solely at the allegations on the face of the pleadings, discovery would not assist the Plaintiffs in defending the 12(c) motion.   Accordingly, we hold that the district court did not abuse its discretion in denying the Plaintiffs' request.
VI
 Finally, the Plaintiffs contend that the district court erred in dismissing the claims against the Limitation Defendants without first lifting the automatic stay imposed by the limitation actions.   When a shipowner files a petition under the Limitation of Liability Act,50 all other suits against the shipowner are automatically stayed, and all claims should be litigated in the limitation proceeding.51  But if a plaintiff makes certain stipulations, including that he will not enforce any judgment against the shipowner until the court has ruled on the limitation petition, the court presiding over the limitation action may stay that action and allow the merits actions to proceed.52  The Plaintiffs moved for a stay of the limitation actions, but the district court denied the Plaintiffs' motion.   Therefore, the stay remained in place with regard to the Limitation Defendants, and the district court erred in entering judgment in favor of the Limitation Defendants in the merits action.
 A district court's failure to comply with formal procedural requirements is a ground for reversing a judgment when “the failure substantially prejudiced one of the parties.”53  Here, the limitation actions and the merits actions were before the same district court.   Because the district court could cure the procedural defect merely by entering a stay in the limitation actions and then entering judgment for the Limitation Defendants in the merits action, the Plaintiffs would be in the same position if the district court followed the proper procedure.   The Plaintiffs have not identified any substantial prejudice arising out of the district court's procedural error.54  Thus, we affirm the entry of judgment in favor of the Limitation Defendants.
* * *
Because we hold that the Contractor Defendants are entitled to government-contractor immunity under Yearsley and that the Plaintiffs' other claims are without merit or are harmless error, we AFFIRM the district court's dismissal and DENY the motion to dismiss the appeal as moot.
FOOTNOTES
1.   46 U.S.C. § 30101.
2.   Id. § 30511.
3.   In re Port Arthur Towing Co., 42 F.3d 312, 315 (5th Cir.1995).
4.   309 U.S. 18, 60 S.Ct. 413, 84 L.Ed. 554 (1940).
5.   487 U.S. 500, 108 S.Ct. 2510, 101 L.Ed.2d 442 (1988).
6.   Doe v. MySpace, Inc., 528 F.3d 413, 418 (5th Cir.2008).
7.   Yearsley, 309 U.S. at 19-20, 60 S.Ct. 413.
8.   Id.
9.   Id. at 20-21, 60 S.Ct. 413.
10.   Id. at 21, 60 S.Ct. 413.
11.   770 F.2d 556 (5th Cir.1985).
12.   Id. at 564.
13.   Id. (emphasis added).
14.   Id. at 560.
15.   Id. at 574.
16.   See Breen v. Tex. A&M Univ., 485 F.3d 325, 336 (5th Cir.2007).
17.   418 F.2d 1010 (5th Cir.1969).
18.   Bynum, 770 F.2d at 564 & n. 11.
19.   Whitaker, 418 F.2d at 1012, 1014-15, 1018.
20.   Id. at 1014 (citing Powell v. U.S. Cartridge Co., 339 U.S. 497, 70 S.Ct. 755, 94 L.Ed. 1017 (1950)).
21.   339 U.S. 497, 70 S.Ct. 755, 94 L.Ed. 1017 (1950).
22.   487 U.S. 500, 512, 108 S.Ct. 2510, 101 L.Ed.2d 442 (1988) (establishing a three-prong analysis to determine the liability of government contractors in the context of military-equipment manufacturing).
23.   Yearsley v. W.A. Ross Constr. Co., 309 U.S. 18, 21, 60 S.Ct. 413, 84 L.Ed. 554 (1940) (“Where an agent or officer of the Government purporting to act on its behalf ․” (emphasis added));  id. at 22, 60 S.Ct. 413 (“[T]here is no ground for holding its agent liable ․  The action of the agent is ‘the act of the government.’ ” (emphasis added) (quoting United States v. Lynah, 188 U.S. 445, 465, 23 S.Ct. 349, 47 L.Ed. 539 (1903), overruled in part on other grounds by United States v. Chicago, M., St. P. & P.R. Co., 312 U.S. 592, 61 S.Ct. 772, 85 L.Ed. 1064 (1941))).
24.   Id. at 23, 60 S.Ct. 413 (“[T]here is no contention, or basis for one, that if the contractor was acting for the Government in prosecuting its work in aid of navigation without the taking of property, the contractor would be subject to the asserted liability.” (emphasis added)).
25.   Id. at 22, 60 S.Ct. 413 (“[I]t excludes liability of the Government's representatives lawfully acting on its behalf ․” (emphasis added)).
26.   Id. at 23, 60 S.Ct. 413.
27.   See, e.g., Myers v. United States, 323 F.2d 580, 583 (9th Cir.1963) (citing Yearsley and concluding, without discussing agency, that the government contractor could not be held liable);  Gulf Ref. Co. v. Mark C. Walker & Son Co., 124 F.2d 420, 425 (6th Cir.1942) (considering the liability of a contractor who built levees that allegedly caused damages to the plaintiff and citing Yearsley, among other cases and without discussing agency, for the proposition that “a contractor or subcontractor doing work for the government in accordance with its requirements is not liable to a third person for its incidental effect upon his property, and that there is no presumption of negligence”);  Dolphin Gardens, Inc. v. United States, 243 F.Supp. 824, 827 (D.Conn.1965) (quoting agency language from Yearsley but not analyzing the relationship between the contractor and the government to determine whether an agency relationship existed and granting summary judgment in favor of the defendant dredger).   But cf. McMahon v. Presidential Airways, Inc., 502 F.3d 1331, 1343 (11th Cir.2007) (considering a contractor's claim of derivative sovereign immunity under Feres v. United States, 340 U.S. 135, 71 S.Ct. 153, 95 L.Ed. 152 (1950), for damages claimed by soldiers killed in an airplane crash and citing Yearsley and Whitaker v. Harvell-Kilgore Corp. for the proposition that if derivative sovereign immunity does exist, “the entity claiming the immunity must at a bare minimum have been a common law agent of the government at the time of the conduct underlying the lawsuit”).
28.   323 F.2d 580 (9th Cir.1963).
29.   Id. at 581.
30.   Id. at 583 (citing Yearsley, 309 U.S. 18, 60 S.Ct. 413, 84 L.Ed. 554).
31.   See Agredano v. U.S. Customs Serv., 223 Fed.Appx. 558, 558 (9th Cir.2007) (“[A] company contracting with the federal government cannot be held liable for injuries third parties in